var keys       = require(__dirname + '/keys.json'),
    colors     = require('colors'),
    redis      = require("redis"),
    rclient    = redis.createClient(),
	r_user_key = keys.site.redisKeyPrefix + 'user:',
	OAuth      = require('oauth').OAuth,
	user_id    = null,
	friends    = [ 470942213,
		20735896,
		16660266,
		61133,
		41054194,
		8253682,
		115560394,
		6104,
		5699,
		14060359,
		12514,
		651503,
		382298665,
		14723857,
		107911169,
		16944165,
		4765141,
		13892042,
		316574829,
		15235235,
		5232171,
		84351228,
		175091719,
		14744749,
		55236002,
		966871,
		14252406,
		15673848,
		41690410,
		14126365,
		15030964,
		635653,
		15248437,
		13332892,
		8619192,
		14276382,
		26524209,
		5446832,
		142065007,
		29733,
		10360752,
		82166135,
		11822502,
		18247933,
		1058011,
		52551079,
		127980987,
		56828429,
		7673,
		59922901,
		14258388,
		19225948,
		14033052,
		8877,
		13444792,
		12249,
		7001722,
		13035,
		23081862,
		5776552,
		17055496,
		757683,
		7692742,
		8340382,
		27246430,
		5511372,
		12040482,
		6588972,
		12615,
		9340332,
		52170394,
		13576,
		33883,
		5634122,
		9267272,
		821753,
		83267349,
		8313762,
		21237045,
		14449283,
		19630792,
		7440012,
		33233,
		15334840,
		17035727,
		6854292,
		14268267,
		5543272,
		9390132,
		86843,
		7330702,
		8760022,
		62003,
		614263,
		62423,
		30953,
		47023,
		59313,
		78673,
		78743 
		];
		
var today     = new Date(),
    yesterday = today.setDate(today.getDate() - 1),
	yesterday_string = new Date(yesterday).getFullYear() + '-' + (new Date(yesterday).getMonth() + 1) + '-' + new Date(yesterday).getDate();
	
function random_number() {
	return Math.floor(Math.random() * 14000) + 1;
}

for(var i=0; friends.length > i; i++) {
	rclient.hmset(keys.site.redisKeyPrefix + 'day:' + friends[i] + ':' + yesterday_string, 'type', 'fitbit', 'steps', random_number(), function(err, replies) {

		console.log(friends[i] + ' : ' + (err ? 'Yep' : 'Nope'), err);

	});
}

return true;